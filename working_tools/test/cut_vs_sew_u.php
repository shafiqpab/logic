<?
header('Content-type:text/html; charset=utf-8');
session_start();
include('../includes/common.php');
$con=connect();
$cut_qnty_array=array();
$cut_qnty_sql="select bundle_no,production_qnty from pro_garments_production_dtls where status_active=1 and production_type=1 and bundle_no in('FTML-18-42831-12',
'FTML-18-42831-13',
'FTML-18-42831-14',
'FTML-18-42831-15',
'FTML-18-42831-16',
'FTML-18-42831-17',
'FTML-18-42831-18',
'FTML-18-42831-19',
'FTML-18-42831-20',
'FTML-18-42831-21',
'FTML-18-42831-22',
'FTML-18-42831-23',
'FTML-18-42831-24',
'FTML-18-42831-25',
'FTML-18-42831-26',
'FTML-18-42831-27',
'FTML-18-42831-28',
'FTML-18-42831-29',
'FTML-18-42831-30',
'FTML-18-42831-31',
'FTML-18-42831-32',
'FTML-18-42831-33',
'FTML-18-42831-34',
'FTML-18-42831-35',
'FTML-18-42831-36',
'FTML-18-42831-37',
'FTML-18-42831-38',
'FTML-18-42831-39',
'FTML-18-42831-40',
'FTML-18-42831-41',
'FTML-18-42831-42',
'FTML-18-42831-43',
'FTML-18-42831-44',
'FTML-18-42831-45',
'FTML-18-42831-46',
'FTML-18-42831-47',
'FTML-18-42831-48',
'FTML-18-42831-49',
'FTML-18-42831-50',
'FTML-18-42831-51',
'FTML-18-42831-52',
'FTML-18-42831-53',
'FTML-18-42831-54',
'FTML-18-42831-55',
'FTML-18-42831-56',
'FTML-18-42831-57',
'FTML-18-42831-58',
'FTML-18-42831-59',
'FTML-18-42831-60',
'FTML-18-42831-61',
'FTML-18-42831-62',
'FTML-18-42831-63',
'FTML-18-42831-64',
'FTML-18-42831-65',
'FTML-18-42831-66',
'FTML-18-42831-67',
'FTML-18-42831-68',
'FTML-18-42831-69',
'FTML-18-42831-70',
'FTML-18-42831-71',
'FTML-18-42831-72',
'FTML-18-42831-73',
'FTML-18-42831-74',
'FTML-18-42831-75',
'FTML-18-42831-76',
'FTML-18-42831-77',
'FTML-18-42831-78',
'FTML-18-42831-79',
'FTML-18-42831-80',
'FTML-18-42831-81',
'FTML-18-42831-82',
'FTML-18-42831-83',
'FTML-18-42831-84',
'FTML-18-42831-85',
'FTML-18-42831-86',
'FTML-18-42831-87',
'FTML-18-42831-88',
'UHM-18-12328-1',
'UHM-18-12328-10',
'UHM-18-12328-100',
'UHM-18-12328-101',
'UHM-18-12328-102',
'UHM-18-12328-103',
'UHM-18-12328-104',
'UHM-18-12328-105',
'UHM-18-12328-106',
'UHM-18-12328-107',
'UHM-18-12328-108',
'UHM-18-12328-109',
'UHM-18-12328-11',
'UHM-18-12328-110',
'UHM-18-12328-111',
'UHM-18-12328-112',
'UHM-18-12328-113',
'UHM-18-12328-114',
'UHM-18-12328-115',
'UHM-18-12328-116',
'UHM-18-12328-117',
'UHM-18-12328-118',
'UHM-18-12328-119',
'UHM-18-12328-12',
'UHM-18-12328-120',
'UHM-18-12328-13',
'UHM-18-12328-14',
'UHM-18-12328-15',
'UHM-18-12328-16',
'UHM-18-12328-17',
'UHM-18-12328-18',
'UHM-18-12328-19',
'UHM-18-12328-2',
'UHM-18-12328-20',
'UHM-18-12328-21',
'UHM-18-12328-22',
'UHM-18-12328-23',
'UHM-18-12328-24',
'UHM-18-12328-25',
'UHM-18-12328-26',
'UHM-18-12328-27',
'UHM-18-12328-28',
'UHM-18-12328-29',
'UHM-18-12328-3',
'UHM-18-12328-30',
'UHM-18-12328-31',
'UHM-18-12328-32',
'UHM-18-12328-33',
'UHM-18-12328-34',
'UHM-18-12328-35',
'UHM-18-12328-36',
'UHM-18-12328-37',
'UHM-18-12328-38',
'UHM-18-12328-39',
'UHM-18-12328-4',
'UHM-18-12328-40',
'UHM-18-12328-41',
'UHM-18-12328-42',
'UHM-18-12328-43',
'UHM-18-12328-44',
'UHM-18-12328-45',
'UHM-18-12328-46',
'UHM-18-12328-47',
'UHM-18-12328-48',
'UHM-18-12328-49',
'UHM-18-12328-5',
'UHM-18-12328-50',
'UHM-18-12328-51',
'UHM-18-12328-52',
'UHM-18-12328-53',
'UHM-18-12328-54',
'UHM-18-12328-55',
'UHM-18-12328-56',
'UHM-18-12328-57',
'UHM-18-12328-58',
'UHM-18-12328-59',
'UHM-18-12328-6',
'UHM-18-12328-60',
'UHM-18-12328-61',
'UHM-18-12328-62',
'UHM-18-12328-63',
'UHM-18-12328-64',
'UHM-18-12328-65',
'UHM-18-12328-66',
'UHM-18-12328-67',
'UHM-18-12328-68',
'UHM-18-12328-69',
'UHM-18-12328-7',
'UHM-18-12328-70',
'UHM-18-12328-71',
'UHM-18-12328-72',
'UHM-18-12328-73',
'UHM-18-12328-74',
'UHM-18-12328-75',
'UHM-18-12328-76',
'UHM-18-12328-77',
'UHM-18-12328-78',
'UHM-18-12328-79',
'UHM-18-12328-8',
'UHM-18-12328-80',
'UHM-18-12328-81',
'UHM-18-12328-82',
'UHM-18-12328-83',
'UHM-18-12328-84',
'UHM-18-12328-85',
'UHM-18-12328-86',
'UHM-18-12328-87',
'UHM-18-12328-88',
'UHM-18-12328-89',
'UHM-18-12328-9',
'UHM-18-12328-90',
'UHM-18-12328-91',
'UHM-18-12328-92',
'UHM-18-12328-93',
'UHM-18-12328-94',
'UHM-18-12328-95',
'UHM-18-12328-96',
'UHM-18-12328-97',
'UHM-18-12328-98',
'UHM-18-12328-99')";
foreach(sql_select($cut_qnty_sql) as $v)
{
	$cut_qnty_array[$v[csf("bundle_no")]]=$v[csf("production_qnty")];
}
print_r($cut_qnty_array);die;

$sew_sql=$cut_qnty_sql="select mst_id, bundle_no,production_qnty from pro_garments_production_dtls where status_active=1 and production_type=4 and bundle_no in('FTML-18-42831-12',
'FTML-18-42831-13',
'FTML-18-42831-14',
'FTML-18-42831-15',
'FTML-18-42831-16',
'FTML-18-42831-17',
'FTML-18-42831-18',
'FTML-18-42831-19',
'FTML-18-42831-20',
'FTML-18-42831-21',
'FTML-18-42831-22',
'FTML-18-42831-23',
'FTML-18-42831-24',
'FTML-18-42831-25',
'FTML-18-42831-26',
'FTML-18-42831-27',
'FTML-18-42831-28',
'FTML-18-42831-29',
'FTML-18-42831-30',
'FTML-18-42831-31',
'FTML-18-42831-32',
'FTML-18-42831-33',
'FTML-18-42831-34',
'FTML-18-42831-35',
'FTML-18-42831-36',
'FTML-18-42831-37',
'FTML-18-42831-38',
'FTML-18-42831-39',
'FTML-18-42831-40',
'FTML-18-42831-41',
'FTML-18-42831-42',
'FTML-18-42831-43',
'FTML-18-42831-44',
'FTML-18-42831-45',
'FTML-18-42831-46',
'FTML-18-42831-47',
'FTML-18-42831-48',
'FTML-18-42831-49',
'FTML-18-42831-50',
'FTML-18-42831-51',
'FTML-18-42831-52',
'FTML-18-42831-53',
'FTML-18-42831-54',
'FTML-18-42831-55',
'FTML-18-42831-56',
'FTML-18-42831-57',
'FTML-18-42831-58',
'FTML-18-42831-59',
'FTML-18-42831-60',
'FTML-18-42831-61',
'FTML-18-42831-62',
'FTML-18-42831-63',
'FTML-18-42831-64',
'FTML-18-42831-65',
'FTML-18-42831-66',
'FTML-18-42831-67',
'FTML-18-42831-68',
'FTML-18-42831-69',
'FTML-18-42831-70',
'FTML-18-42831-71',
'FTML-18-42831-72',
'FTML-18-42831-73',
'FTML-18-42831-74',
'FTML-18-42831-75',
'FTML-18-42831-76',
'FTML-18-42831-77',
'FTML-18-42831-78',
'FTML-18-42831-79',
'FTML-18-42831-80',
'FTML-18-42831-81',
'FTML-18-42831-82',
'FTML-18-42831-83',
'FTML-18-42831-84',
'FTML-18-42831-85',
'FTML-18-42831-86',
'FTML-18-42831-87',
'FTML-18-42831-88',
'UHM-18-12328-1',
'UHM-18-12328-10',
'UHM-18-12328-100',
'UHM-18-12328-101',
'UHM-18-12328-102',
'UHM-18-12328-103',
'UHM-18-12328-104',
'UHM-18-12328-105',
'UHM-18-12328-106',
'UHM-18-12328-107',
'UHM-18-12328-108',
'UHM-18-12328-109',
'UHM-18-12328-11',
'UHM-18-12328-110',
'UHM-18-12328-111',
'UHM-18-12328-112',
'UHM-18-12328-113',
'UHM-18-12328-114',
'UHM-18-12328-115',
'UHM-18-12328-116',
'UHM-18-12328-117',
'UHM-18-12328-118',
'UHM-18-12328-119',
'UHM-18-12328-12',
'UHM-18-12328-120',
'UHM-18-12328-13',
'UHM-18-12328-14',
'UHM-18-12328-15',
'UHM-18-12328-16',
'UHM-18-12328-17',
'UHM-18-12328-18',
'UHM-18-12328-19',
'UHM-18-12328-2',
'UHM-18-12328-20',
'UHM-18-12328-21',
'UHM-18-12328-22',
'UHM-18-12328-23',
'UHM-18-12328-24',
'UHM-18-12328-25',
'UHM-18-12328-26',
'UHM-18-12328-27',
'UHM-18-12328-28',
'UHM-18-12328-29',
'UHM-18-12328-3',
'UHM-18-12328-30',
'UHM-18-12328-31',
'UHM-18-12328-32',
'UHM-18-12328-33',
'UHM-18-12328-34',
'UHM-18-12328-35',
'UHM-18-12328-36',
'UHM-18-12328-37',
'UHM-18-12328-38',
'UHM-18-12328-39',
'UHM-18-12328-4',
'UHM-18-12328-40',
'UHM-18-12328-41',
'UHM-18-12328-42',
'UHM-18-12328-43',
'UHM-18-12328-44',
'UHM-18-12328-45',
'UHM-18-12328-46',
'UHM-18-12328-47',
'UHM-18-12328-48',
'UHM-18-12328-49',
'UHM-18-12328-5',
'UHM-18-12328-50',
'UHM-18-12328-51',
'UHM-18-12328-52',
'UHM-18-12328-53',
'UHM-18-12328-54',
'UHM-18-12328-55',
'UHM-18-12328-56',
'UHM-18-12328-57',
'UHM-18-12328-58',
'UHM-18-12328-59',
'UHM-18-12328-6',
'UHM-18-12328-60',
'UHM-18-12328-61',
'UHM-18-12328-62',
'UHM-18-12328-63',
'UHM-18-12328-64',
'UHM-18-12328-65',
'UHM-18-12328-66',
'UHM-18-12328-67',
'UHM-18-12328-68',
'UHM-18-12328-69',
'UHM-18-12328-7',
'UHM-18-12328-70',
'UHM-18-12328-71',
'UHM-18-12328-72',
'UHM-18-12328-73',
'UHM-18-12328-74',
'UHM-18-12328-75',
'UHM-18-12328-76',
'UHM-18-12328-77',
'UHM-18-12328-78',
'UHM-18-12328-79',
'UHM-18-12328-8',
'UHM-18-12328-80',
'UHM-18-12328-81',
'UHM-18-12328-82',
'UHM-18-12328-83',
'UHM-18-12328-84',
'UHM-18-12328-85',
'UHM-18-12328-86',
'UHM-18-12328-87',
'UHM-18-12328-88',
'UHM-18-12328-89',
'UHM-18-12328-9',
'UHM-18-12328-90',
'UHM-18-12328-91',
'UHM-18-12328-92',
'UHM-18-12328-93',
'UHM-18-12328-94',
'UHM-18-12328-95',
'UHM-18-12328-96',
'UHM-18-12328-97',
'UHM-18-12328-98',
'UHM-18-12328-99')";

foreach(sql_select($sew_sql) as  $val)
{
	
	$bundle_no=$val[csf("bundle_no")];
	$qnty=$cut_qnty_array[$val[csf("bundle_no")]];
	$mst_id=$val[csf("mst_id")];

	 
	 
	$up_mst=execute_query("UPDATE pro_garments_production_mst set production_qnty=production_qnty-'$qnty' where bundle_no='$bundle_no' and production_type=4 and mst_id='$mst_id' ");
	$up_dtls=execute_query("UPDATE pro_garments_production_dtls set production_qnty='$qnty' where bundle_no='$bundle_no' and mst_id='$mst_id' and production_type=4 ");
	 
	 
}

 
	oci_commit($con); 
	echo "Success";

 



 
?>